# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
    socket_url: "ws://127.0.0.1:%socket_port%"

services:
    app.twig_extension:
        class: AppBundle\Twig\AppExtension
        public: false
        tags:
            - { name: twig.extension }

    socket_admin_client:
        class: AppBundle\Ratchet\AdminClient
        arguments:
          - "%socket_url%"

    socket_user_client:
        class: Localhook\Localhook\Ratchet\UserClient
        arguments:
          - "%socket_url%"

    app.registration_initialize_listener:
        class: AppBundle\UserBundle\EventListener\RegistrationInitializeListener
        tags:
            - { name: kernel.event_subscriber }

    request_simulator:
        class: AppBundle\RequestSimulator
        arguments:
          - "%notifications_prefix_url%"